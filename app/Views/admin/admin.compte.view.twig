{% extends '/admin/template.view.twig' %}
{% block navigation %}
    {% include '/admin/navigation.view.twig' with {'active' : 4} %}
{% endblock %}
{% block main %}
    <h4 class="color-secondary mt-2">Profil</h4>
    <h5 class="text-muted mb-3">
        Gestion de profil</h5>
    <div class="row no-gutters">
        <div class="col-sm-4">
            <div class="card border-0 mr-2">
                <div class="card-body pt-5 text-center">
                    <img class="rounded-lg border shadow-sm" src="/public/img/profiles/{{ auth.admin.profile_img == null ? 'default.png' : auth.admin.profile_img }}" width="150" hieght="150">
                    <h4 class="mt-3 font-wieght-bold">
                        {{ auth.admin.nom | upper }}
                        {{ auth.admin.prenom | upper }}
                    </h4>
                    <p class="color-secondary">
                        Administrateur
                    </p>
                    <button class="btn btn-primary" data-target="#ModalPhto" data-toggle="modal" type="button">
                        Changer photo de profil
                    </button>
                    <div aria-hidden="true" aria-labelledby="ModalLabel" class="modal fade" id="ModalPhto" role="dialog" tabindex="-1">
                        <div class="modal-dialog text-left" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="ModalLabel">Changer photo de profil</h5>
                                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <form action="{{path_for('admin-profil-img')}}" enctype="multipart/form-data" method="POST">
                                        <label class="text-left d-block mb-0" for="">Choisier une photo de profil</label>
                                        <small class="text-muted mb-4">.jpg , .gif ou .png. Max 700k</small>
                                        <div class="input-group mb-3 mt-3">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="inputGroupFileAddon01">Télecharger</span>
                                            </div>
                                            <div class="custom-file">
                                                <input aria-describedby="inputGroupFileAddon01" name="profImg" class="custom-file-input" id="inputGroupFile01" type="file">
                                                <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary" type="submit">Changer</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="card-body">
                    <h6 class="color-lead">email
                    </h6>
                    <h5 class="color-pr font-weight-bold">{{ auth.admin.email }}</h5>
                    <h6 class="color-lead mt-4">nom et prénom
                    </h6>
                    <h5 class="color-pr font-weight-bold">
                        {{ auth.admin.nom }}
                        {{ auth.admin.prenom }}
                    </h5>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <div class="card border-0 ">
                <div class="card-body">
                    <h5 class="color-secondary font-weight-bold mb-4">
                        <i class="mr-2" data-feather="edit"></i>
                        Modificatin d'information personnel
                    </h5>
                    <form action="{{ path_for('admin-change-info') }}" method="post">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label>Nom</label>
                                <input class="form-control" name="nom" value="{{auth.admin.nom}}" type="text">
                            </div>
                            <div class="form-group col-md-6">
                                <label>Prénom</label>
                                <input class="form-control" name="prenom" value="{{auth.admin.prenom}}" type="text">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input class="form-control" name="emails" value="{{auth.admin.email}}" type="email" readonly>
                        </div>
                        <button class="btn btn-primary" type="submit">Modfier</button>
                    </form>
                </div>
            </div>
            <div class="card border-0 mt-2">
                <div class="card-body">
                    <form action="{{ path_for('admin-change-password') }}" method="POST">
                        <h5 class="color-secondary font-weight-bold mb-4">
                            <i class="mr-2" data-feather="lock"></i>
                            Modificatin de mot de passe
                        </h5>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label>Ancien mot de passe</label>
                                <input class="form-control" name="old" type="password" required>
                            </div>
                            <div class="form-group col-md-6">
                                <label>Nouveaux mot de passe</label>
                                <input class="form-control" name="new" type="password" required>
                                <small class="text-muted">6 caractère minimum</small>
                            </div>
                        </div>
                        <button class="btn btn-primary" type="submit">Changer</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
